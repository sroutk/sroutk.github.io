<!DOCTYPE html> <html lang="en" dir="auto"> <head><meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=no"> <meta name="description" content="COMPUTING &amp;amp; IT Cloud Computing and VMs Setting Up a Linux VM This section details the steps to setup a Ubuntu Linode VM following the this ..."> <meta name="revised" content="f9dbeeeeab28c89d4a6ac7d318d63593aecc2b9a"> <meta name="author" content="sroutk"> <meta name="generator" content="jekyll-rtd-theme v2.0.10"><meta name="theme-color" content="#2980b9"> <title>COMPUTING &amp; IT · Mixignal Innovations</title> <meta name="twitter:title" content="COMPUTING &amp; IT · Mixignal Innovations"> <meta name="twitter:description" content="COMPUTING &amp;amp; IT Cloud Computing and VMs Setting Up a Linux VM This section details the steps to setup a Ubuntu Linode VM following the this ..."> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@sroutk"> <meta name="twitter:url" content="/wiki/compute-it.html"> <meta name="twitter:creator" content="@jekyll-rtd-theme v2.0.10"> <meta property="og:title" content="COMPUTING &amp; IT · Mixignal Innovations"> <meta property="og:description" content="COMPUTING &amp;amp; IT Cloud Computing and VMs Setting Up a Linux VM This section details the steps to setup a Ubuntu Linode VM following the this ..."> <meta property="og:locale" content="en"> <meta property="og:url" content="/wiki/compute-it.html"> <meta property="og:type" content="article"> <meta property="article:author" content="sroutk"> <meta property="article:published_time" content="2023-06-15T21:42:29+05:30"> <meta property="article:modified_time" content="2023-10-05T23:19:46+05:30"> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "Article", "mainEntityOfPage": { "@type": "WebPage", "@id": "/wiki/compute-it.html" }, "headline": "COMPUTING &amp; IT · Mixignal Innovations", "image": [], "author": { "@type": "Person", "name": "sroutk" }, "datePublished": "2023-06-15T21:42:29+05:30", "dateModified": "2023-10-05T23:19:46+05:30", "publisher": { "@type": "Organization", "name": "sroutk", "logo": { "@type": "ImageObject", "url": "https://avatars.githubusercontent.com/u/136733817?v=4" } }, "description": "COMPUTING &amp;amp; IT Cloud Computing and VMs Setting Up a Linux VM This section details the steps to setup a Ubuntu Linode VM following the this ..." } </script> <link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="next" href="/wiki/userguide.html"><link rel="canonical" href="/wiki/compute-it.html"><link rel="icon" type="image/svg+xml" href="/assets/images/favicon.svg"><link rel="icon" type="image/png" href="/assets/images/favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="/assets/images/favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="/assets/images/favicon-96x96.png" sizes="96x96"><link rel="mask-icon" href="/assets/images/favicon.svg" color="#2980b9"><link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-300x300.jpg"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/css/theme.min.css"><script> window.ui = { title: "Mixignal Innovations", baseurl: "", i18n: { search_results: "Search Results", search_results_found: "Search finished, found # page(s) matching the search query.", search_results_not_found: "Your search did not match any documents, please make sure that all characters are spelled correctly!" } }; </script> </head> <body class="container"><div class="sidebar-wrap overflow-hidden"> <div class="sidebar height-full overflow-y-scroll overflow-x-hidden"> <div class="header d-flex flex-column p-3 text-center"> <div class="title pb-1"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/" title="Documentation"> <i class="fa fa-home"></i> Mixignal Innovations </a> </div> <span class="version"></span> <form class="search pt-2" action="/search.html" method="get" autocomplete="off"> <input class="form-control input-block input-sm" type="text" name="q" placeholder="Search docs..."> </form> </div> <div class="toctree py-2" data-spy="affix" role="navigation" aria-label="main navigation"> <ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/wiki/"> WIKI </a><ul> <li class="toc level-1 current" data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline current" href="/wiki/compute-it.html">1. COMPUTING &amp; IT</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/wiki/userguide.html">2. USER GUIDES</a> </li> <li class="toc level-1 " data-sort="3" data-level="1"> <a class="d-flex flex-items-baseline " href="/wiki/cube-sat.html">3. CUBE-SAT</a> </li></ul> </div> </div> </div> <div class="content-wrap"> <div class="header d-flex flex-justify-between p-2 hide-lg hide-xl" aria-label="top navigation"> <button id="toggle" aria-label="Toggle menu" class="btn-octicon p-2 m-0 text-white" type="button"> <i class="fa fa-bars"></i> </button> <div class="title flex-1 d-flex flex-justify-center"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/">Mixignal Innovations</a> </div> </div> <div class="content p-3 p-sm-5"> <div class="navigation-top d-flex flex-justify-between"> <ul class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation"> <li class="breadcrumb-item"> <a class="no-underline" href="/" title="/"> <i class="fa fa-home"></i> </a> </li><li class="breadcrumb-item" ><a href="/wiki/">wiki</a></li><li class="breadcrumb-item" aria-current="page">compute-it.md</li></ul> <a class="edit" href="https://github.com/sroutk/sroutk.github.io/edit/gh-pages/wiki/compute-it.md" title="Edit on GitHub" rel="noreferrer" target="_blank"> <i class="fa fa-edit"></i> </a> </div> <hr> <div role="main" itemscope="itemscope" itemtype="https://schema.org/Article"> <div class="markdown-body" itemprop="articleBody"> <h1 id="computing--it">COMPUTING &amp; IT</h1> <h2 id="cloud-computing-and-vms">Cloud Computing and VMs</h2> <h3 id="setting-up-a-linux-vm">Setting Up a Linux VM</h3> <p>This section details the steps to setup a <strong>Ubuntu Linode VM</strong> following the this <a href="https://www.linode.com/docs/guides/set-up-and-secure/">guide</a>.</p> <ul> <li>Use the cloud manager to create and view the linux instance.</li> <li>Before accessing the instance through <strong>PuTTy</strong>, access the instance using the <em>root</em> login via the <strong>web console</strong>. <strong>NOTE</strong> Most cloud services creates an admin account for access which we will create manually in subsequent steps.</li> <li>Perform <strong>system updates</strong>: <code class="language-plaintext highlighter-rouge notranslate">apt update &amp;&amp; apt upgrade</code></li> <li>Set <strong>local timezone</strong>: <code class="language-plaintext highlighter-rouge notranslate">timedatectl set-timezone 'Asia/Calcutta'</code> <ul> <li>To view all timezones: <code class="language-plaintext highlighter-rouge notranslate">timedatectl list-timezones</code></li> </ul> </li> <li>Set <strong>hostname</strong>: <code class="language-plaintext highlighter-rouge notranslate">hostnamectl set-hostname &lt;hostname&gt;</code></li> <li>Customize <strong>prompt</strong> in <code class="language-plaintext highlighter-rouge notranslate">.bashrc</code>: <code class="language-plaintext highlighter-rouge notranslate">PS1="\u@\h[\W]\$ "</code> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">\u</code>:username, <code class="language-plaintext highlighter-rouge notranslate">\h</code>:hostname, <code class="language-plaintext highlighter-rouge notranslate">\W</code>: working directory</li> </ul> </li> <li>Add some essential aliases to .bashrc:</li> </ul> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="nb">alias date</span><span class="o">=</span><span class="s1">'date +%D'</span>
<span class="nb">alias </span><span class="nv">h</span><span class="o">=</span><span class="s1">'history'</span>
<span class="nb">alias </span><span class="nv">vimr</span><span class="o">=</span><span class="s1">'vim -R'</span>
<span class="nb">alias rm</span><span class="o">=</span><span class="s1">'rm -i'</span>
</code></pre>  </div></div> <ul> <li>Add the above customization to <code class="language-plaintext highlighter-rouge notranslate">/etc/skel/.bashrc</code> for new users.</li> <li>Create an <strong>admin/sudo</strong> account: <ul> <li>Create the new user: <code class="language-plaintext highlighter-rouge notranslate">adduser &lt;admin-username&gt;</code></li> <li>Add the new user to the sudo group: <code class="language-plaintext highlighter-rouge notranslate">adduser &lt;admin-username&gt; sudo</code></li> <li>For other distros eg. CentOS or even Ubuntu: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">useradd &lt;adminuser&gt; &amp;&amp; passwd &lt;adminuser&gt;</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">usermod -aG wheel &lt;adminuser&gt;</code></li> <li>Make sure the wheel group is uncommented in <code class="language-plaintext highlighter-rouge notranslate">/etc/skel</code> using the command <code class="language-plaintext highlighter-rouge notranslate">#visudo</code> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">%wheel ALL=(ALL) ALL</code> <strong>NOTE</strong> <code class="language-plaintext highlighter-rouge notranslate">%</code> is NOT a comment.</li> </ul> </li> </ul> </li> </ul> </li> <li><strong>Install and Configure Dropbox</strong> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo apt-get install dropbox</code></li> <li>Login to the user you want to use Dropbox in.</li> <li>Download the python script (to say <code class="language-plaintext highlighter-rouge notranslate">~/bin</code>): <ul> <li><code class="language-plaintext highlighter-rouge notranslate">wget https://www.dropbox.com/download?dl=packages/dropbox.py</code></li> <li><strong>NOTE</strong> the dropbox package comes with a application name <code class="language-plaintext highlighter-rouge notranslate">dropbox</code> but seems to have some outdated code so downloaded the above python script.</li> </ul> </li> <li>Make sure <code class="language-plaintext highlighter-rouge notranslate">~/bin</code> is in the PATH. <ul> <li>eg. in <code class="language-plaintext highlighter-rouge notranslate">.bashrc</code>: <code class="language-plaintext highlighter-rouge notranslate">export PATH=/home/user/bin:$PATH</code></li> </ul> </li> <li><code class="language-plaintext highlighter-rouge notranslate">dropbox.py update</code> to update the package?</li> <li><code class="language-plaintext highlighter-rouge notranslate">dropbox.py start</code> <ul> <li><em>First Time</em>: <code class="language-plaintext highlighter-rouge notranslate">dropbox status</code> will show you a link that you browse to enter the Dropbox account credential that you want to link to.</li> </ul> </li> <li>Make sure everytime the VM is rebooted, you start dropbox.</li> <li><em>NOTE</em> If your distro's repo does not have the packages, Check this Dropbox Links: <a href="https://help.dropbox.com/installs">Installs</a>, <a href="https://help.dropbox.com/installs/linux-commands#add">On Linux</a>.</li> </ul> </li> <li>Follow section <a href="wiki/compute-it.html#security-hardening-a-linux-server">Security Hardening a Linux Server</a> for hardening access to the server.</li> <li><strong>Install &amp; Configure AWS CLI</strong> <ul> <li>AWS CLI is mainly used for automatic backups to AWS S3.</li> <li>Followed this <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html">AWS User Guide</a>.</li> <li>Prereqs: <ul> <li>Setup an IAM account (instead of the root AWS) or use an existing one.</li> <li>Create an access ID key and secret key and store it safely. See <a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-prereqs.html">AWS Doc</a>.</li> </ul> </li> <li>Before installing, make sure <code class="language-plaintext highlighter-rouge notranslate">glibc-tools</code>, <code class="language-plaintext highlighter-rouge notranslate">groff</code> and <code class="language-plaintext highlighter-rouge notranslate">less</code> are installed.</li> <li>Install it from AWS: <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>curl <span class="s2">"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip"</span> <span class="nt">-o</span> <span class="s2">"awscliv2.zip"</span>
unzip awscliv2.zip
<span class="nb">sudo</span> ./aws/install
</code></pre>  </div> </div> </li> <li><code class="language-plaintext highlighter-rouge notranslate">aws --version</code> to check the installed package.</li> <li>To update the current isntallation: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo ./aws/install --bin-dir /usr/local/bin --install-dir /usr/local/aws-cli --update</code></li> </ul> </li> <li><strong>NOTE</strong> You can install <code class="language-plaintext highlighter-rouge notranslate">awscli</code> package from the Ubuntu repo but lot older version.</li> <li><strong>Configure AWS CLI</strong> (See <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-quickstart.html">AWS Doc</a>) <ul> <li><code class="language-plaintext highlighter-rouge notranslate">aws configure --profile user1</code> <strong>NOTE</strong> For default configuration omit the –profile option. <ul> <li>AWS Access Key ID: <Enter the="" Key="" ID="" of="" your="" IAM="" user=""></Enter></li> <li>AWS Secret Access Key: <Enter it=""></Enter></li> <li>Default region name: Give the one most used eg. <code class="language-plaintext highlighter-rouge notranslate">ap-southeast-1</code></li> <li>Default output format: default is <code class="language-plaintext highlighter-rouge notranslate">json</code> but use table for more human readable format.</li> </ul> </li> </ul> </li> <li>Now you are ready to use the <strong>AWS CLI</strong> <ul> <li>You need to create a S3 bucket for use. See <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/GetStartedWithS3.html">AWS Doc</a>. <ul> <li>Example options when creating a bucket: <ul> <li>AWS Region: ap-southeast-1</li> <li>Copy settings from another bucket. (Specially if rules related Glacier, you don't have to repeat them here.)</li> <li>Object owner: ACL disable</li> <li>Block all public access (private)</li> <li>Versioning Enabled</li> <li>Add a tag. (Helps is tracking for eg. cost )</li> <li>Server side encryption enabled with default SSE-S3.</li> </ul> </li> </ul> </li> <li><code class="language-plaintext highlighter-rouge notranslate">aws s3 ls --profile user1</code> will list all the S3 buckets.</li> <li><code class="language-plaintext highlighter-rouge notranslate">aws s3 cp --profile user1 &lt;src file&gt; s3://bucket-name</code></li> </ul> </li> </ul> </li> <li><strong>Additional Packages</strong> <ul> <li>To build pacakages from source install the essentials: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo apt instal build-essential bison flex libx11-dev libxaw7-dev libtool libreadline-dev libncurses-dev automake autoconf texinfo</code> <ul> <li>If you need the kernel headers: <code class="language-plaintext highlighter-rouge notranslate">sudo apt install linux-headers-'uname -r'</code></li> </ul> </li> <li><code class="language-plaintext highlighter-rouge notranslate">sudo apt install texlive-font-utils ghostscript</code> : For <code class="language-plaintext highlighter-rouge notranslate">epstpdf</code>,….</li> </ul> </li> </ul> </li> </ul> <h3 id="virtual-box">VIRTUAL BOX</h3> <p><strong>ADDING A WINDOWS 10 SHARED FOLDER IN UBUNTU 22.04</strong></p> <ul> <li>After installation and <em>before rebooting</em>, make sure the installation ISO image is removed from the VM's storage: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">Settings -&gt; Storage</code> and select the ISO and from <code class="language-plaintext highlighter-rouge notranslate">Attributes -&gt; Optical Drive</code> select _Remove Disk from Virtual Drive`</li> </ul> </li> <li>After reboot and login, install some essentials: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo apt-get update &amp;&amp; sudo apt-get install -y build-essential linux-headers-\</code>uname -r``</li> </ul> </li> <li>From VM's VBox Menu select <code class="language-plaintext highlighter-rouge notranslate">Devices -&gt; Insert Guest Additions CD image</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">lsblk</code> to find the mount point say <code class="language-plaintext highlighter-rouge notranslate">/media/cdrom/VBoxLinusGAs</code></li> <li>Run the installation script: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo /media/cdrom/VBoxLinuxGAs/VBoxLinuxAdditions.run</code></li> </ul> </li> <li>Create the folder to mount the share say, <code class="language-plaintext highlighter-rouge notranslate">/home/ubuntu/share</code></li> <li>Add the user to <code class="language-plaintext highlighter-rouge notranslate">vboxsf</code> group (not sure if necessary but doesn't hurt): <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo adduser ubuntu vboxsf</code></li> </ul> </li> <li>Shutdown the VM: <code class="language-plaintext highlighter-rouge notranslate">sudo shutdown -h now</code></li> <li>Select from VM's Vbox Menu: <code class="language-plaintext highlighter-rouge notranslate">Settings -&gt; Shared Folder -&gt; Add New..</code>: <ul> <li>Folder Path: <code class="language-plaintext highlighter-rouge notranslate">&lt;Path to Windows 10 Folder&gt;</code></li> <li>Folder Name: <code class="language-plaintext highlighter-rouge notranslate">vbshare</code> <strong>NOTE</strong> This will be name of the folder in Ubuntu that will be used to mount.</li> <li>Mount point: <code class="language-plaintext highlighter-rouge notranslate">/home/ubuntu/share</code></li> <li><em>Select</em> <code class="language-plaintext highlighter-rouge notranslate">Auto-mount</code></li> <li><em>Select</em> <code class="language-plaintext highlighter-rouge notranslate">Make Permanent</code></li> </ul> </li> <li>Start the VM and it should be mounted. <strong>If NOT</strong> Follow these steps: <ul> <li>Add the following in <code class="language-plaintext highlighter-rouge notranslate">/etc/fstab</code>: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">vbshare /home/ubuntu/share vboxsf defaults 0 0</code></li> <li>Test it: <code class="language-plaintext highlighter-rouge notranslate">sudo mount -a</code></li> </ul> </li> <li>Add <code class="language-plaintext highlighter-rouge notranslate">vboxsf</code> in <code class="language-plaintext highlighter-rouge notranslate">/etc/modules</code> (Not sure if necessary)</li> </ul> </li> <li>Resources: <ul> <li><a href="https://gist.github.com/estorgio/0c76e29c0439e683caca694f338d4003">Mounting VirtualBox shared folders on Ubuntu Server 18.04 LTS</a></li> <li><a href="https://askubuntu.com/questions/161759/how-to-access-a-shared-folder-in-virtualbox">How to access a shared folder in VirtualBox? - askUbuntu</a></li> </ul> </li> </ul> <h3 id="git">git</h3> <p>Tags: #git #github</p> <p><strong>ADDING A PROJECT TO A GITHUB REPO</strong></p> <ul> <li>Create a repo without any README/.gitignore/license</li> <li>If you are going to usee SSH (recommended), copy the SSH key to github from the "Settings-&gt;SSH/GPG Keys" menu.</li> <li>Navigate to the project directory: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">git init</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">git add .</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">git commit -m "init" -a</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">git remote add origin &lt;URL from Github-&gt;Code&gt;</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">git remote -v</code> to check</li> <li><code class="language-plaintext highlighter-rouge notranslate">git branch -M main</code> Assuming this is the default branch of your repo.</li> <li><code class="language-plaintext highlighter-rouge notranslate">git push -u origin main</code></li> </ul> </li> </ul> <p><strong>ADDING SSH KEYS github.com</strong></p> <ul> <li>github doesn't support https for maintaing repo using API eg. from Linux. Sp most preferre way is to clone and maintain using SSH so need to add SSH keys to the github account.</li> <li>Generating 4096-bit RSA key from <strong>Linux</strong>: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">ssh-keygen -t rsa -b 4096 -C "email"</code> <ul> <li><em>Note</em>: DSA keys has been dropped by github to improve security. github recommends <code class="language-plaintext highlighter-rouge notranslate">ed25119</code> but is ok with 4096-bit RSA for legacy systems. Decided to use above not to have any issues with legacy systems. See github doc <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent">here</a></li> </ul> </li> </ul> </li> <li> <p>To add the keys to github account: click setting from the top-right menu, slect "SSH and GPG keys" and click "New SSK Key" and copy paste from <code class="language-plaintext highlighter-rouge notranslate">~/.ssh/id_rsa.pub</code></p> </li> <li>When adding a SSH key to github if you get an error saying "Key already in use" but you don't see it in the list, Use the following command to see which github account is used in: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">ssh -T -ai ~/.ssh/id_rsa git@github.com</code></li> </ul> </li> <li>If the output is "hi username .." then that git user is using the above key.</li> </ul> <p><strong>USING MULTIPLE GIT ACCOUNTS FROM ONE LINUX ACCOUNT</strong></p> <ul> <li>Create different keys for different accounts eg.: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">ssh-keygen -t rsa -b 4096 -C "default"</code> : This will create the private/public pair id_ras/id_rsa.pub</li> <li><code class="language-plaintext highlighter-rouge notranslate">ssh-keygen -t rsa -b 4096 -f git1 -C "github.com/git1"</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">ssh-keygen -t rsa -b 4096 -f git2 -C "github.com/git2"</code></li> </ul> </li> <li>Add the public key to the respective git account. Add the default key to the account most used so you will not need to add follow the steps to add the keys to ssh-agent before doing a git push.</li> <li><strong>NOTE</strong> All documentation suggest to create the file <code class="language-plaintext highlighter-rouge notranslate">~/.ssh/ssh_config</code> file to automatically use the respective keys but just couldn't get it to work.</li> <li>After loging in and let's say you want to use account git1: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">eval "$(ssh-agent -s)"</code> Starts the ssh-agent.</li> <li><code class="language-plaintext highlighter-rouge notranslate">ssh-add ~/.ssh/git1</code> Adds the private key for git1 <ul> <li><code class="language-plaintext highlighter-rouge notranslate">ssh-add -l</code> will list all the keys in the agent</li> <li><code class="language-plaintext highlighter-rouge notranslate">ssh-add -D</code> will delete all the keys.</li> </ul> </li> <li>Now you can do all the git operation for account git1: <code class="language-plaintext highlighter-rouge notranslate">git clone/add/commit/push/etc</code></li> <li>Before loging out, kill the ssh-agent process: <code class="language-plaintext highlighter-rouge notranslate">pkill -9 -f ssh-agent</code></li> <li>Probably a good idea to add it to crontab.</li> </ul> </li> </ul> <p><strong>DEALING WITH LARGE PAK FILES</strong></p> <p>If you are dealing with binaries, even pdfs docs etc, then the git repo blows pretty quickly. Especially after deleting all the binaries, the revisions are still in the pack files in <code class="language-plaintext highlighter-rouge notranslate">.git/objects/...</code> . So how do you delete them ? Followed this <a href="https://support-acquia.force.com/s/article/360004334093-Removing-large-files-from-Git-without-losing-history#:~:text=Branch%20filtering,particular%20files%20from%20your%20history.">link</a></p> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">git verify-pack -v .git/objects/pack/pack-{hash}.idx | sort -k 3 -n | tail -n 20</code> – lists the 20 largest pak files.</li> <li><code class="language-plaintext highlighter-rouge notranslate">git rev-list --objects --all | grep {hash}</code> – This will list the file path for this hash.</li> <li><code class="language-plaintext highlighter-rouge notranslate">git filter-branch --index-filter 'git rm --cached --ignore-unmatch ./path/to/resource/*.ext' --tag-name-filter cat -- --all</code></li> <li>If you know there was an entire diretory (say <code class="language-plaintext highlighter-rouge notranslate">docs/public_html</code>) that has been deleted and you don't need it, you can delete: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">git filter-branch --index-filter 'git rm --cached --ignore-unmatch docs/public_html/*' --tag-name-filter cat -- --all</code></li> </ul> </li> <li><code class="language-plaintext highlighter-rouge notranslate">git push origin --force --all</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">git push origin --force --tags</code> – If you want to purge the tags as well.</li> <li>Now, the above command will purge the history from the githib repo but the backup will be created in the .git local directory so there will be no space saving in the current working driectory. Still don't know how to clean it up properly. The way I do it now is move the directory and just clone it again.</li> </ul> <h2 id="single-board-computers-sbc">SINGLE BOARD COMPUTERS (SBC)</h2> <h3 id="nas-on-raspberrypi-4">NAS on RaspberryPi 4</h3> <p>After install and trying to configure services <strong>OpenMediaVault</strong>, decided not to go with it because of restrictive options and problems with features.</p> <p><strong>INSTALLING RASPBERRY PI OS LITE</strong></p> <ul> <li>Download and start the Raspberry Pi imager.</li> <li>Choose the OS type: <code class="language-plaintext highlighter-rouge notranslate">Raspberry Pi OS Lite (64 bit)</code></li> <li>Choose the target SD card.</li> <li>From <em>settings</em> preconfigure avaialble options eg. <code class="language-plaintext highlighter-rouge notranslate">ssh creds, WiFi creds, hostname, etc.</code>. This is essential for <em>headless</em> install.</li> <li>Login using PuTTy using the preconfigured SSH user and update OS and install essential eg. <code class="language-plaintext highlighter-rouge notranslate">vim</code></li> </ul> <p><strong>INSTALLING UFW FIREWALL (OPTIONAL)</strong> #ufw #firewall</p> <p>NOT NEEDED if unit is inside a firewall.</p> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo apt install ufw</code></li> <li>Before rebooting make sure you allow SSH: <code class="language-plaintext highlighter-rouge notranslate">sudo ufw allow 22</code></li> <li>Check the status <code class="language-plaintext highlighter-rouge notranslate">sudo ufw status</code></li> </ul> <p><strong>MOUNTING EXTERNAL SSD</strong></p> <ul> <li>Find the block device name eg. <code class="language-plaintext highlighter-rouge notranslate">/dev/sda</code> using the command <code class="language-plaintext highlighter-rouge notranslate">lsblk</code></li> <li>Create a partition (not necessary but highly recommended) using <code class="language-plaintext highlighter-rouge notranslate">fdisk</code>: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">fdisk -l</code> to list all partitions available.</li> <li><code class="language-plaintext highlighter-rouge notranslate">fdisk /dev/sda</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">n</code> for creating a partition. For creating one Linux partition use the defaults.</li> <li><code class="language-plaintext highlighter-rouge notranslate">p</code> print the partition for checking.</li> <li><code class="language-plaintext highlighter-rouge notranslate">w</code> write the partition to disk.</li> </ul> </li> <li>Now you can see the block device for the new partition eg. <code class="language-plaintext highlighter-rouge notranslate">/dev/sda1</code> using <code class="language-plaintext highlighter-rouge notranslate">lsblk</code></li> <li>Create a <code class="language-plaintext highlighter-rouge notranslate">ext4</code> partition: <code class="language-plaintext highlighter-rouge notranslate">sudo mkfs.ext4 /dev/sda1</code></li> <li>Find the <em>UUID</em> of the partition: <code class="language-plaintext highlighter-rouge notranslate">blkid /dev/sda1</code></li> <li>Create a mount point: <code class="language-plaintext highlighter-rouge notranslate">sudo mkdir /media/wd220</code></li> <li>Create a fstab entry in <code class="language-plaintext highlighter-rouge notranslate">/etc/fstab</code>: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">UUID=5abdf860-950b-40b8-8799-49f6ce70044c /media/wd220 ext4 defaults,auto,users,rw,nofail 0 0</code></li> <li><strong>FIXME</strong> document the options.</li> </ul> </li> <li><code class="language-plaintext highlighter-rouge notranslate">sudo mount -a</code></li> </ul> <p><strong>CREATING A SAMBA SHARE</strong></p> <p>Could not get a Public share to work. Write permission error from Windows. After trying out lot of ways, following seem to work for a Private share.</p> <ul> <li>Create the share directory: <code class="language-plaintext highlighter-rouge notranslate">sudo mkdir /media/wd220/Music</code></li> <li>Change owner, group and permission to the user that will be a samba user say smbuser: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo chown smbuser /media/wd220/Music</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">sudo chgrp users /media/wd220/Music</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">sudo chmod 2775 /media/wd220/Music</code> The 2 in the begining makes the folder sticky so users in the group "users" can write to the directory with their ownership.</li> </ul> </li> <li>Install <em>samba</em> : <code class="language-plaintext highlighter-rouge notranslate">sudo apt-get install samba smb-client cifs-utils</code></li> <li>Add the Windows group (eg. WORKGROUP) to the global option in <code class="language-plaintext highlighter-rouge notranslate">/etc/samba/smb.conf</code></li> <li>Add the share folder to <code class="language-plaintext highlighter-rouge notranslate">/etc/samba/smb.conf</code>:</li> </ul> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>Music]
   comment <span class="o">=</span> Public Music Folder
   path <span class="o">=</span> /media/wd220/Music
   <span class="nb">read </span>only <span class="o">=</span> no
   guest ok <span class="o">=</span> no
   valid <span class="nb">users</span> <span class="o">=</span> smbuser
</code></pre>  </div></div> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo smbpasswd -a smbuser</code> Add the user as a Samba user. You are going to use this credential when accessing the folder from Windows.</li> <li>Allow the SMB ports 139,445 in the firewall (if ufw enabled):</li> </ul> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>ufw allow 139
<span class="nb">sudo </span>ufw allow 445
</code></pre>  </div></div> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo systemctl restart smbd</code> Restart the SMB daemon.</li> <li>Now try accessing from Windows <code class="language-plaintext highlighter-rouge notranslate">Win+R</code> and entering <code class="language-plaintext highlighter-rouge notranslate">\\[IP/hostname]/Music</code></li> <li> <table> <tbody> <tr> <td>Some useful links: <a href="https://devconnected.com/how-to-install-samba-on-debian-10-buster/#:~:text=In%20order%20for%20Samba%20to,on%20ports%20139%20and%20445.">devconnected</a></td> <td><a href="https://computingforgeeks.com/how-to-configure-samba-share-on-debian/?expand_article=1">ComputingForGeeks</a></td> <td><a href="https://serverspace.io/support/help/configuring-samba-on-debian/">ServerSpace</a></td> </tr> </tbody> </table> </li> </ul> <p><strong>LOGITECH MEDIA SERVER (LMS) on RaspberryPiOS</strong> #LMS #lms #squeezebox</p> <p>This tutorial documents the steps in installing <strong>Logitech Media Server</strong> for organizing Music files. Also, this installation was done on the Raspberry Pi OS that is already running OpenMediaVault (OMV) . So all filesystems are managed through OMV.</p> <p>Followed the LMS part of <a href="https://www.haraldkreuzer.net/en/news/installing-logitech-media-server-raspberry-pi-4b-5-inch-display">Harald Kreuzer's Blog</a>. <strong>NOTE</strong> There is section in the blog about disabling the swap to increase the longetivity of the SD card. Worth looking into it.</p> <p>Important steps are listed below:</p> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo apt-get update &amp;&amp; sudo apt-get upgrade -y</code> followed by <code class="language-plaintext highlighter-rouge notranslate">sudo reboot</code></li> <li><strong>Install LMS Server</strong>:</li> </ul> <div class="language-plaintext highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>sudo apt-get install libsox-fmt-all libflac-dev libfaad2 
sudo apt-get install libio-socket-ssl-perl 
sudo apt-get install libcrypt-openssl-bignum-perl 
sudo apt-get install libcrypt-openssl-random-perl 
sudo apt-get install libcrypt-openssl-rsa-perl 
wget https://downloads.slimdevices.com/LogitechMediaServer_v8.3.1/logitechmediaserver_8.3.1_arm.deb 
sudo dpkg -i logitechmediaserver_8.3.1_arm.deb
</code></pre>  </div></div> <p><strong>NOTE</strong> Check the latest LMS distro available.</p> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo ufw allow 9000</code></li> <li>The server will now be accessible at <code class="language-plaintext highlighter-rouge notranslate">http://&lt;IP&gt;:9000/</code> <ul> <li><strong>NOTE</strong> you do not need to create the logitech account. You can skipt.</li> </ul> </li> <li><strong>FIXME</strong> Create the appropriate directory structure in OMV and configure that here. <ul> <li>You can check these links (<a href="https://wiki.slimdevices.com/index.php/Beginners_Guide_To_Organising.html">BegineersGuide</a>, <a href="http://www.hydrogenaudio.org/forums/index.php?showtopic=32726">Survey</a>, <a href="https://homedjstudio.com/organize-music-library/">Organize4DJ-MP3Tags</a>) to see some popular ways to organize folders for music.</li> <li>One popular choice is: <code class="language-plaintext highlighter-rouge notranslate">/&lt;library&gt;/&lt;artist&gt;/&lt;album&gt;/&lt;tracks&gt;</code></li> <li>Organizing Classical Music is different (See <a href="https://wiki.slimdevices.com/index.php/BeginnersGuideToClassical.html">BegineersGuideToClassical</a>. A simple <em>tagging</em> (Tagged during ripping) reco from the guide: <ul> <li>the folder strategy I am using now is: <code class="language-plaintext highlighter-rouge notranslate">/&lt;lib&gt;/&lt;composer&gt;/&lt;CDalbum&gt;/&lt;tracks&gt;</code></li> <li>For Various artiests: <code class="language-plaintext highlighter-rouge notranslate">/&lt;lib&gt;/&lt;VariousArtist&gt;/&lt;CDalbum&gt;/&lt;tracks&gt;</code></li> <li><strong>Tag</strong> reco: <ul> <li><em>Album</em> tag for <em>Work</em> eg. "Beethoven Symphony no. 5 - Karajan"</li> <li><em>Artist</em> tag for <em>Composer</em> eg. "Beethoven"</li> <li><em>Title</em> tag for <em>Movement</em> eg. "Beethoven Symp 5 - 3- Allegro"</li> </ul> </li> </ul> </li> </ul> </li> <li>You can remove all unnecessary plugins.</li> <li>It's worth installing the <code class="language-plaintext highlighter-rouge notranslate">material</code> plugin which is a responsive plugin so the server will be accessible at <code class="language-plaintext highlighter-rouge notranslate">https://&lt;IP&gt;:9000/material</code> even from a mobile.</li> </ul> <p><strong>AWS CLI</strong></p> <ul> <li>Check this <a href="https://mixignal.github.io/wiki/compute-it.html?highlight=aws%20cli#setting-up-a-linux-vm">section</a> for installing aws cli tools.</li> <li><strong>Note</strong>, download the ARM version instead of the x86 version: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">curl "https://awscli.amazonaws.com/awscli-exe-linux-aarch64.zip" -o "awscliv2.zip"</code></li> </ul> </li> </ul> <p><strong>Setting crontab for syncing from AWS S3</strong></p> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">00 03 * * 1 aws s3 sync --delete --profile srout s3://linode-vm01-bak /media/wd220/aws-S3/srout/linode-vm01-bak &gt; /home/srout/logs/s3sync-linodevm01.log 2&gt;&amp;1</code></li> </ul> <p><strong>OpenMediaVault</strong></p> <p>After install and trying to configure services, decided not to go with it because of restrictive options and problems with features. Following links are good guides if you decide to:</p> <ul> <li><a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;ved=2ahUKEwizmoe02KGAAxXFavUHHUvVAVgQFnoECA4QAQ&amp;url=https%3A%2F%2Fpimylifeup.com%2Fraspberry-pi-openmediavault%2F&amp;usg=AOvVaw1Iw1MJa1bGIa_1SJTSwJWb&amp;opi=89978449">Installing OpenMediaVault to a Raspbeery Pi</a></li> <li><a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;ved=2ahUKEwizmoe02KGAAxXFavUHHUvVAVgQFnoECA0QAQ&amp;url=https%3A%2F%2Fwww.makeuseof.com%2Finstall-openmediavault-raspberry-pi%2F&amp;usg=AOvVaw2--kLBPwz6WF0Yf27PES_x&amp;opi=89978449">How to Install OpenMediaVault on a Raspberry Pi</a></li> </ul> <h2 id="security">Security</h2> <h3 id="security-hardening-a-linux-server">Security Hardening a Linux Server</h3> <ul> <li>Some good guides for securing your server/VM: <ul> <li>This section details the steps to setup a <strong>Ubuntu Linode VM</strong> following the this <a href="https://www.linode.com/docs/guides/set-up-and-secure/">guide</a>.</li> <li><a href="https://www.linode.com/community/questions/467/ive-noticed-some-suspicious-activity-on-my-linode-what-do-i-do">Thread from Linode community</a>: on tracking suspious activity including running anti-virus and antimalware.</li> <li><a href="https://www.linode.com/docs/guides/using-fail2ban-to-secure-your-server-a-tutorial/">Fail2Ban Tutorial from Linode</a></li> </ul> </li> <li><strong>Harden SSH Access</strong> by adding authentication via private/public key pair and disable password access. <ul> <li>For <strong>PuTTy</strong>, use <strong>PuTTygen</strong> to generate private/public key pair.</li> <li>use 4096-bit RSA or ECDSA to generate the key pair.</li> <li>Save the private key in safe location and add it to the PuTTy session: <code class="language-plaintext highlighter-rouge notranslate">Connection -&gt; SSH -&gt; Auth -&gt; Private key file for authentication</code></li> <li>Add the public key to the Linux VM instance: <code class="language-plaintext highlighter-rouge notranslate">~/.ssh/authorized_keys</code></li> <li>Andd now when loging in for that particular user, you will not require to use the password.</li> </ul> </li> <li><strong>SSH Daemon Options</strong> in <code class="language-plaintext highlighter-rouge notranslate">/etc/ssh/sshd_config</code>: <ul> <li>Disable <em>root</em> login via SSH: <code class="language-plaintext highlighter-rouge notranslate">PermitRootLogin no</code></li> <li>Disable <em>password auth</em>: <code class="language-plaintext highlighter-rouge notranslate">PasswordAuthentication no</code></li> <li>If using only IPv4 then: <code class="language-plaintext highlighter-rouge notranslate">AddressFamily inet</code></li> <li><em>Restart</em> ssh daemon: <code class="language-plaintext highlighter-rouge notranslate">sudo systemctl restart sshd</code></li> </ul> </li> <li>Use <strong>Fail2Ban</strong> to secure <code class="language-plaintext highlighter-rouge notranslate">sshd</code> service (and other services as well): <ul> <li><a href="https://www.linode.com/docs/guides/using-fail2ban-to-secure-your-server-a-tutorial/">Linode Tutorial on Fail2Ban</a> to install and configure fail2ban.</li> <li><strong>Install</strong> (without sendmail and for CentOS make sure <code class="language-plaintext highlighter-rouge notranslate">epel-release</code> is installed and systems are up to date: <ul> <li><strong>Ubuntu</strong> (22.04): <code class="language-plaintext highlighter-rouge notranslate">#apt install fail2ban</code></li> <li><strong>CentOS</strong> (7): <code class="language-plaintext highlighter-rouge notranslate">#yum install fail2ban</code></li> </ul> </li> <li>Make sure <code class="language-plaintext highlighter-rouge notranslate">ssh</code> is enabled through firewall.</li> <li>Make local copies of: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">/etc/fail2ban/fail2ban.conf -&gt; /etc/fail2ban/fail2ban.local</code> : Default settings should be good enough for the start.</li> <li><code class="language-plaintext highlighter-rouge notranslate">/etc/fail2ban/jail.conf -&gt; /etc/fail2ban/jail.local</code></li> </ul> </li> <li>Configure <code class="language-plaintext highlighter-rouge notranslate">jail.local</code>: <ul> <li>Uncomment ignore ip such that local host is not filtered and add any static IPs you regularly log from: <div class="language-plaintext highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>ignoreip = 127.0.0.1/8 ::1 &lt;Any other Public IPs&gt;
</code></pre>  </div> </div> </li> <li>If <code class="language-plaintext highlighter-rouge notranslate">sendmail</code> is not installed, change <code class="language-plaintext highlighter-rouge notranslate">mta</code> to regular <code class="language-plaintext highlighter-rouge notranslate">mail</code> (Not sure if you really need this): <div class="language-plaintext highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>mta = mail`
</code></pre>  </div> </div> </li> <li>Enable the <code class="language-plaintext highlighter-rouge notranslate">sshd</code> jail: <div class="language-plaintext highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>[sshd]
enabled = true
</code></pre>  </div> </div> </li> </ul> </li> <li>For CentOS, change <code class="language-plaintext highlighter-rouge notranslate">backend</code> from <code class="language-plaintext highlighter-rouge notranslate">auto</code> to <code class="language-plaintext highlighter-rouge notranslate">systemd</code>: <div class="language-plaintext highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>backend = systemd
</code></pre>  </div> </div> </li> <li>Start and enable the service so it starts at boot: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">#systemctl enable fail2ban</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">#systemctl start fail2ban</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">#systemctl status fail2ban</code> to check the status if it started or any error.</li> </ul> </li> <li>You can also the check the status through the client app: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">#fail2ban-client status</code> which will show the active jails like this: <div class="language-plaintext highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>Status
|- Number of jail:      1
`- Jail list:   sshd
</code></pre>  </div> </div> </li> </ul> </li> <li>And you can see the details of jail: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">#fail2ban-client status sshd</code> which will show the details of the jail <code class="language-plaintext highlighter-rouge notranslate">sshd</code>: <div class="language-plaintext highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>Status for the jail: sshd
|- Filter
|  |- Currently failed: 4
|  |- Total failed:     62
|  `- File list:        /var/log/auth.log
`- Actions
 |- Currently banned: 0
 |- Total banned:     8
 `- Banned IP list:
</code></pre>  </div> </div> </li> </ul> </li> <li><strong>NOTE</strong> the log file <code class="language-plaintext highlighter-rouge notranslate">/var/log/auth.log</code> is specified in <code class="language-plaintext highlighter-rouge notranslate">/etc/fail2ban/paths-common.conf</code></li> <li>You can use <code class="language-plaintext highlighter-rouge notranslate">journalctl</code> to browse through the logs.</li> </ul> </li> <li><strong>Configure Firewall</strong>. The default application in Ubuntu <code class="language-plaintext highlighter-rouge notranslate">ufw</code> (Uncomplicated Firewall) is disabled. Follow the <a href="https://www.linode.com/docs/guides/configure-firewall-with-ufw/">Linode Tutorial</a> to install and setup the firewall. Basic setup steps: <ul> <li>Allow SSH connections: <code class="language-plaintext highlighter-rouge notranslate">sudo ufw allow ssh</code></li> <li>Use the default rules: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo ufw default allow outgoing</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">sudo ufw default deny incoming</code></li> </ul> </li> <li>Enable it: <code class="language-plaintext highlighter-rouge notranslate">sudo ufw enable</code></li> <li>Check the status: <code class="language-plaintext highlighter-rouge notranslate">sudo ufw status</code></li> </ul> </li> </ul> <h3 id="system-log-files">System Log Files</h3> <p><strong>Using <code class="language-plaintext highlighter-rouge notranslate">journactl</code> Command</strong></p> <p>System logs are a vital resource for administrators and developers looking to monitor system performance, troubleshoot issues, and understand the events taking place within the system. Check this <a href="https://www.linuxjournal.com/content/mastering-journalctl-command-comprehensive-guide">Linux Journal article</a>, to learn about this command. Here are some useful ways to use <code class="language-plaintext highlighter-rouge notranslate">journalctl</code>:</p> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">$ journalctl -r</code> : new entries first.</li> <li><code class="language-plaintext highlighter-rouge notranslate">$ journalctl -n 15</code> : view last 15 entries.</li> <li><code class="language-plaintext highlighter-rouge notranslate">$ journalctl -p 3</code> : priority level 3. Note, most sshd entries are in this level.</li> <li><code class="language-plaintext highlighter-rouge notranslate">$ journalctl -u fail2ban.service</code> : logs of a particular service.</li> <li><code class="language-plaintext highlighter-rouge notranslate">$ journalctl --list-boots</code>: Logs from previous boots. <ul> <li><code class="language-plaintext highlighter-rouge notranslate">$ journalctl -b -1</code>: Logs from a particular boot.</li> </ul> </li> <li><code class="language-plaintext highlighter-rouge notranslate">$ journalctl -f</code> : real-time monitoring.</li> <li><code class="language-plaintext highlighter-rouge notranslate">$ journactl --since yesterday</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">$ journalctl --disk-usage</code> : Shows the disk usage of the journal log files. <ul> <li>To clean of the journal logs to a limited <strong>size</strong>: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">$ journalctl --rotate</code> to move active logs to archive and</li> <li><code class="language-plaintext highlighter-rouge notranslate">$ journalctl --vaccum-size=250M</code> will delete past logs to limit size to <code class="language-plaintext highlighter-rouge notranslate">250Mbytes</code>.</li> </ul> </li> <li>To make it automatic, edit <code class="language-plaintext highlighter-rouge notranslate">/etc/systemd/journald.conf</code> <div class="language-plaintext highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>SystemMaxUse = 250M
</code></pre>  </div> </div> </li> <li>restart service: <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>systemctl restart systemd-journald
</code></pre>  </div> </div> </li> <li>To clean of the journal logs to a limited <strong>time</strong>: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">$ journalctl --rotate</code> to move active logs to archive and</li> <li><code class="language-plaintext highlighter-rouge notranslate">$ journalctl --vaccum-time=1d</code> will delete past logs from begining to given time.</li> </ul> </li> </ul> </li> </ul> <h3 id="cli-password-vault-pass">CLI Password Vault pass</h3> <p><strong>NOTE</strong> This installation is done at <strong>USER LEVEL</strong>. So make sure <code class="language-plaintext highlighter-rouge notranslate">pass</code> is installed eg. <code class="language-plaintext highlighter-rouge notranslate">sudo apt install pass</code></p> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">gpg --full-generate-key</code> skip this step if already installed. <ul> <li>select the kind eg. <code class="language-plaintext highlighter-rouge notranslate">RSA</code></li> <li>keysize eg. <code class="language-plaintext highlighter-rouge notranslate">4096</code></li> <li>validity eg. <code class="language-plaintext highlighter-rouge notranslate">0</code> (forever)</li> <li>Enter user info</li> </ul> </li> <li><code class="language-plaintext highlighter-rouge notranslate">gpg --list-secret-keys --keyid-format LONG</code> will generate something like this:</li> </ul> <div class="language-plaintext highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>sec   4096R/AAAA2222CCCC4444 2021-03-18 [expires: 2023-03-18] uid         John Doe &lt;jdoe@example.com&gt;
</code></pre>  </div></div> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">pass init 'AAAA2222CCCC4444'</code> to initiate pass using the GPG key ID. <ul> <li><strong>IMPORTANT</strong> Make the passphrase strong and keep it in a safe place.</li> </ul> </li> <li> <p><code class="language-plaintext highlighter-rouge notranslate">pass generate -c Internet/github.com 21</code> to generate a 21-char-long password and copy it to clipboard.</p> </li> <li> <p><code class="language-plaintext highlighter-rouge notranslate">pass insert -em banking/citi</code> will insert a multiline (m) info and echo (e) it back. Press <code class="language-plaintext highlighter-rouge notranslate">Ctrl-D</code> when done entering.</p> </li> <li> <p><code class="language-plaintext highlighter-rouge notranslate">pass show banking/citi</code> displays the password.</p> </li> <li><strong>Setting up for Syncing with Git Repo</strong>: <ul> <li>Create a git repo in github.com (can be something else too)</li> <li><code class="language-plaintext highlighter-rouge notranslate">pass git init</code> will initialize pass DB fir git repo sync.</li> <li><code class="language-plaintext highlighter-rouge notranslate">pass git remote add origin git@github.com:johndoe/pass-store.git</code> <ul> <li>Make sure the proper authentication is in place.</li> </ul> </li> <li><code class="language-plaintext highlighter-rouge notranslate">pass git push -u --all</code></li> </ul> </li> <li><strong>Cloning the git pass</strong> <ul> <li>From the server export the keys: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">gpg --export-secret-keys &gt; privkey.asc</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">gpg --export &gt; pubkey.asc</code></li> <li>Make sure you store in a safe place.</li> </ul> </li> <li>Import on the new client: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">gpg --import pubkey.asc</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">gpg --allow-secret-key-import --import privkey.asc</code></li> </ul> </li> <li>Clone the git repo from the server (FIXME: How to clone from github?) <ul> <li>Setup SSH keys between client-server if it's setup that way.</li> <li><code class="language-plaintext highlighter-rouge notranslate">git clone user@server:~/.password-store</code></li> <li>Now you can use the client pass but push from client has issues. So best to use it only for pull.</li> </ul> </li> </ul> </li> </ul> <h2 id="networking">Networking</h2> <h3 id="peer-to-peer-vpn-using-tinc">Peer-to-Peer VPN using tinc</h3> <p><strong>SETUP on CentOS 7</strong></p> <ul> <li>Mostly followed this <a href="https://www.digitalocean.com/community/tutorials/how-to-install-tinc-and-set-up-a-basic-vpn-on-ubuntu-18-04">blog</a> on Digital Ocean. <strong>Note</strong>: The blog is for Ubuntu 18.04</li> <li>The setup was done on two linux machines: VM on cloud (<code class="language-plaintext highlighter-rouge notranslate">docosvm01</code>) and a server behind a firewall (<code class="language-plaintext highlighter-rouge notranslate">vlsisrv02</code>), both running CentOS 7.</li> <li>Install <code class="language-plaintext highlighter-rouge notranslate">tinc</code> on both the machines: <code class="language-plaintext highlighter-rouge notranslate">sudo yum install tinc</code> <ul> <li>Make sure the <code class="language-plaintext highlighter-rouge notranslate">epel</code> repo is enabled.</li> </ul> </li> <li>The setup's goal is to have <code class="language-plaintext highlighter-rouge notranslate">docosvm01</code> listen to connect requests from other clients eg. <code class="language-plaintext highlighter-rouge notranslate">vlsisrv02</code>. Primary reason being the VM has public address which avoids any NAT problems. The clients can be behind a NAT without any issues.</li> <li>Create the configuration directory on both the machines (<code class="language-plaintext highlighter-rouge notranslate">tincvpn1</code> is name for this VPN conn): <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo mkdir -p /etc/tinc/tincvpn1/hosts</code></li> </ul> </li> <li>Create the config file <code class="language-plaintext highlighter-rouge notranslate">/etc/tinc/tincvpn1/tinc.conf</code> with the following content:</li> </ul> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>Name <span class="o">=</span> docosvm01
AddressFamily <span class="o">=</span> ipv4
Interface <span class="o">=</span> tun0
</code></pre>  </div></div> <p><strong>IMPORTANT NOTE</strong>: The interface Name (<code class="language-plaintext highlighter-rouge notranslate">docosvm01</code>) has to <strong>different</strong> from the <code class="language-plaintext highlighter-rouge notranslate">hostname</code>.</p> <ul> <li>Create a host config file (name same as above <code class="language-plaintext highlighter-rouge notranslate">Name</code>) <code class="language-plaintext highlighter-rouge notranslate">/etc/tinc/tincvpn1/hosts/docosvm01</code> with the following content:</li> </ul> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>Address <span class="o">=</span> &lt;Public IP of the VM&gt;
Subnet <span class="o">=</span> 10.0.0.1/32
</code></pre>  </div></div> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo tincd -n tincvpn1 -K4096</code> : create the public/private pair keys <ul> <li>Choose the default options. The public key will get autimatically appended to the host file.</li> </ul> </li> <li>Create the link-up script <code class="language-plaintext highlighter-rouge notranslate">/etc/tinc/tincvpn1/tinc-up</code> :</li> </ul> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
ip <span class="nb">link set</span> <span class="nv">$INTERFACE</span> up
ip addr add 10.0.0.1/32 dev <span class="nv">$INTERFACE</span>
ip route add 10.0.0.0/24 dev <span class="nv">$INTERFACE</span>
</code></pre>  </div></div> <ul> <li>Create the link-down script <code class="language-plaintext highlighter-rouge notranslate">/etc/tinc/tincvpn1/tinc-down</code> :</li> </ul> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
ip route del 10.0.0.0/24 dev <span class="nv">$INTERFACE</span>
ip addr del 10.0.0.1/32 dev <span class="nv">$INTERFACE</span>
ip <span class="nb">link set</span> <span class="nv">$INTERFACE</span> down
</code></pre>  </div></div> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo chmod 755 /etc/tinc/tincvpn1/tinc-*</code></li> <li>Open the port <code class="language-plaintext highlighter-rouge notranslate">655</code> (not sure which so opened both tcp/udp):</li> </ul> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>firewall-cmd <span class="nt">--add-port</span><span class="o">=</span>655/udp <span class="nt">--permanent</span>
<span class="nb">sudo </span>firewall-cmd <span class="nt">--add-port</span><span class="o">=</span>655/tcp <span class="nt">--permanent</span>
<span class="nb">sudo </span>firewall-cmd <span class="nt">--reload</span>
<span class="nb">sudo </span>firewall-cmd <span class="nt">--list-port</span>
</code></pre>  </div></div> <p>For <strong>Ubuntu</strong> you can use <code class="language-plaintext highlighter-rouge notranslate">ufw</code>: <code class="language-plaintext highlighter-rouge notranslate">sudo ufw allow 655/tcp ; sudo ufw reload</code></p> <ul> <li><strong>Confiuring the Client</strong> <code class="language-plaintext highlighter-rouge notranslate">vlsisrv02</code>:</li> <li><code class="language-plaintext highlighter-rouge notranslate">sudo mkdir -p /etc/tinc/tincvpn1/hosts</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">/etc/tinc/tincvpn1/tinc.conf</code>:</li> </ul> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>Name <span class="o">=</span> vlsisrv02
AddressFamily <span class="o">=</span> ipv4
Interface <span class="o">=</span> tun0
ConnectTo <span class="o">=</span> docosvm01
</code></pre>  </div></div> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">/etc/tinc/tincvpn1/hosts/vlsisrv02</code>:</li> </ul> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>Subnet <span class="o">=</span> 10.0.0.2/32
</code></pre>  </div></div> <ul> <li> <p><code class="language-plaintext highlighter-rouge notranslate">sudo tincd -n tincvpn1 -K4096</code> : Create key pairs.</p> </li> <li> <p><code class="language-plaintext highlighter-rouge notranslate">/etc/tinc/tincvpn1/tinc-up</code>:</p> </li> </ul> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
ip <span class="nb">link set</span> <span class="nv">$INTERFACE</span> up
ip addr add 10.0.0.2/32 dev <span class="nv">$INTERFACE</span>
ip route add 10.0.0.0/24 dev <span class="nv">$INTERFACE</span>
</code></pre>  </div></div> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">/etc/tinc/tincvpn1/tinc-down</code>:</li> </ul> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
ip route del 10.0.0.0/24 dev <span class="nv">$INTERFACE</span>
ip addr del 10.0.0.2/32 dev <span class="nv">$INTERFACE</span>
ip <span class="nb">link set</span> <span class="nv">$INTERFACE</span> down
</code></pre>  </div></div> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo chmod 755 /etc/tinc/tincvpn1/tinc-*</code></li> <li>Open the ports <code class="language-plaintext highlighter-rouge notranslate">655</code>:</li> </ul> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>firewall-cmd <span class="nt">--add-port</span><span class="o">=</span>655/udp <span class="nt">--permanent</span>
<span class="nb">sudo </span>firewall-cmd <span class="nt">--add-port</span><span class="o">=</span>655/tcp <span class="nt">--permanent</span>
<span class="nb">sudo </span>firewall-cmd <span class="nt">--reload</span>
<span class="nb">sudo </span>firewall-cmd <span class="nt">--list-port</span>
</code></pre>  </div></div> <ul> <li><strong>Distributing the Keys</strong></li> <li>If the SSH keys are used between the servers, make sure the public keys are appropriately added in <code class="language-plaintext highlighter-rouge notranslate">~/.ssh/authorized_keys</code></li> <li>Using <code class="language-plaintext highlighter-rouge notranslate">scp</code>, copy: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">docosvm01:/etc/tinc/tincvpn1/hosts/docosvm01</code> to <code class="language-plaintext highlighter-rouge notranslate">vlsisrv02:/etc/tinc/tincvpn1/hosts/</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">vlsisrv02:/etc/tinc/tincvpn1/hosts/vlsisrv02</code> to <code class="language-plaintext highlighter-rouge notranslate">docosvm01:/etc/tinc/tincvpn1/hosts/</code></li> <li><strong>Note</strong>: Although the blog suggests to change the public IP of <code class="language-plaintext highlighter-rouge notranslate">docosvm01</code> to the VPN subnet IP, you don't have to.</li> </ul> </li> <li><strong>Testing the setup</strong>: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo tincd -n netname -D -d3</code> on both the servers will start the daemon in foreground (<code class="language-plaintext highlighter-rouge notranslate">-D</code>) in verbose debug mode (<code class="language-plaintext highlighter-rouge notranslate">-d3</code>).</li> <li>If it runs successfully you can <code class="language-plaintext highlighter-rouge notranslate">ping 10.0.0.2</code> from <code class="language-plaintext highlighter-rouge notranslate">docosvm01</code></li> </ul> </li> <li><code class="language-plaintext highlighter-rouge notranslate">sudo systemctl start tinc@tincvpn1</code> will start the daemon in the background.</li> <li><code class="language-plaintext highlighter-rouge notranslate">sudo systemctl enable tinc@tincvpn1</code> will start the daemon at startup. <strong>FIXME</strong> presently not starting at boot.</li> </ul> <p><strong>ADDING ANOTHER TINC SERVER</strong></p> <ul> <li>If you want to add another <em>server</em> say <code class="language-plaintext highlighter-rouge notranslate">docosvm02</code> for peer-to-peer access to the same client <code class="language-plaintext highlighter-rouge notranslate">vlsisrv02</code>:</li> <li>Setup <code class="language-plaintext highlighter-rouge notranslate">docosvm02</code> just like <code class="language-plaintext highlighter-rouge notranslate">docosvm01</code> above.</li> <li>Add ‘ConnectTo' to the <code class="language-plaintext highlighter-rouge notranslate">vlsisrv02:/etc/tinc/tincvpn1/tinc.conf</code> to include <code class="language-plaintext highlighter-rouge notranslate">docosvm02</code> as well:</li> </ul> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>Name <span class="o">=</span> vlsisrv02
AddressFamily <span class="o">=</span> ipv4
Interface <span class="o">=</span> tun0
ConnectTo <span class="o">=</span> docosvm01
ConnectTo <span class="o">=</span> docosvm02
</code></pre>  </div></div> <ul> <li> <p>Copy the keys: <code class="language-plaintext highlighter-rouge notranslate">docosvm02:/etc/tinc/tincvpn1/hosts/docosvm02</code> to <code class="language-plaintext highlighter-rouge notranslate">vlsisrv02:/etc/tinc/tincvpn1/hosts/</code></p> </li> <li>Restart <code class="language-plaintext highlighter-rouge notranslate">tinc</code> on <code class="language-plaintext highlighter-rouge notranslate">vlsisrv02</code>: <code class="language-plaintext highlighter-rouge notranslate">sudo systemctl restart tinc@tincvpn1</code></li> <li>If all goes well, that's it!</li> </ul> <h3 id="pptp-vpn-client">PPTP VPN client</h3> <p><strong>SETUP on CentOS 7</strong></p> <ul> <li>Followed this <a href="https://zlthinker.github.io/Setup-VPN-on-CentOS">blog</a> to setup the VPN</li> <li>Install PPTP: <code class="language-plaintext highlighter-rouge notranslate">sudo yum install pptp pptp-setup</code></li> <li>Configuration: <code class="language-plaintext highlighter-rouge notranslate">sudo pptpsetup –create bmt-229 –server [server address] –username [username] –password [pwd] –encrypt</code></li> <li>This command will create a file named <code class="language-plaintext highlighter-rouge notranslate">bmt-229</code> under <code class="language-plaintext highlighter-rouge notranslate">/etc/ppp/peers/</code> with server info written inside.</li> <li>This command will also write your username and password into <code class="language-plaintext highlighter-rouge notranslate">/etc/ppp/chap-secrets</code></li> <li>Register the ppp_mppe kernel module: <code class="language-plaintext highlighter-rouge notranslate">sudo modprobe ppp_mppe</code></li> <li>Register the nf_conntrack_pptp kernel module: <code class="language-plaintext highlighter-rouge notranslate">sudo modprobe nf_conntrack_pptp</code></li> </ul> <p><strong>USER GUIDE</strong></p> <ul> <li>Connect to VPN PPTP: <code class="language-plaintext highlighter-rouge notranslate">sudo pppd call config</code></li> <li>It will establish PPTP VPN connection. You can type command <code class="language-plaintext highlighter-rouge notranslate">ip a | grep ppp</code> to find the connection name (e.g. <code class="language-plaintext highlighter-rouge notranslate">ppp0</code>). No return indicates connection failure.</li> <li>If any error, you can look into <code class="language-plaintext highlighter-rouge notranslate">/var/log/messages</code> for log info</li> <li>Check IP routing table info: <code class="language-plaintext highlighter-rouge notranslate">route -n</code></li> <li>Add Network Segment to current connection: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">route add -net 192.168.11.0 netmask 255.255.255.0 dev ppp0</code></li> </ul> </li> <li>You can now ping the destination to check the access</li> <li>Disconnect the VPN: <code class="language-plaintext highlighter-rouge notranslate">sudo killall pppd</code></li> </ul> <h3 id="putty">PuTTY</h3> <p><strong>EXPORTING and IMPORTING a SESSION</strong></p> <ul> <li>In windows search and start the <em>Registry Editor</em> progam <code class="language-plaintext highlighter-rouge notranslate">regedit.exe</code></li> <li>Navigate to <code class="language-plaintext highlighter-rouge notranslate">HKEY_CURRENT_USER -&gt; Software -&gt; SimonTatham -&gt; PuTTY -&gt; Sessions</code></li> <li>Right Click on the session name and export it.</li> <li>To import, <code class="language-plaintext highlighter-rouge notranslate">File -&gt; Import</code></li> </ul> <p><strong>DELETING A KEY FROM A SESSION</strong></p> <ul> <li>In windows search and start the <em>Registry Editor</em> progam <code class="language-plaintext highlighter-rouge notranslate">regedit.exe</code></li> <li>Navigate to <code class="language-plaintext highlighter-rouge notranslate">HKEY_CURRENT_USER -&gt; Software -&gt; SimonTatham -&gt; PuTTY -&gt; SshHostKeys</code></li> <li>Select the appropriate key and delete it.</li> </ul> <h2 id="websitewiki">WebSite/Wiki</h2> <h3 id="jekyll-static-page-on-github">Jekyll: Static Page on GitHub</h3> <table> <tbody> <tr> <td><a href="https://jekyllrb.com">#jekyll</a></td> <td>#github</td> <td><a href="https://github.com/rundocs/jekyll-rtd-theme">#jekyll-rtd-theme</a></td> <td>#website</td> <td>#static</td> <td><a href="https://jekyll-themes.com/jekyll-rtd/">#jekyll-rtd-userguide</a></td> </tr> </tbody> </table> <p>This section shows you how to create a static web page using <a href="https://jekyllrb.com">Jekyll</a> (and a Jekyll theme) and host it on github.</p> <p><strong>PREPARING LINUX FOR JEKYLL</strong></p> <ul> <li>First we need install the prereqs on a Linux workstation. Following is for the <code class="language-plaintext highlighter-rouge notranslate">Ubuntu</code> on <code class="language-plaintext highlighter-rouge notranslate">AWS</code>:</li> <li><code class="language-plaintext highlighter-rouge notranslate">sudo apt-get install ruby-full build-essential zlib1g-dev</code></li> <li>In order to load <code class="language-plaintext highlighter-rouge notranslate">gem</code> locally, add the following in <code class="language-plaintext highlighter-rouge notranslate">.bashrc</code> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">export GEM_HOME=$HOME/gems</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">export PATH=$HOME/gems/bin:$PATH</code></li> </ul> </li> <li><code class="language-plaintext highlighter-rouge notranslate">gem install jekyll bundler</code></li> </ul> <p><strong>CONFIGURING JEKYLL</strong></p> <ul> <li>Site-wise configuration are done using <code class="language-plaintext highlighter-rouge notranslate">_config.yml</code></li> <li>See https://jekyll-rtd-theme.rundocs.io/ for config options.</li> <li><strong>IMPORTANT</strong> Option <code class="language-plaintext highlighter-rouge notranslate">baseurl</code> when testing a site that doesn't sit at the root of the server domain. See this <a href="https://byparker.com/blog/2014/clearing-up-confusion-around-baseurl/#:~:text=Set%20baseurl%20in%20your%20_config,baseurl%20to%20in%20your%20_config">blog</a> for more detail on it.</li> <li>Someone changed this to <code class="language-plaintext highlighter-rouge notranslate">/silicon-vlsi.github.io</code> and all urls had duplicate domain eg <code class="language-plaintext highlighter-rouge notranslate">https://silicon-vlsi.github.io/silicon-vlsi.github.io/content/projects.html</code> and thus breaking the links.</li> <li>Removed the <code class="language-plaintext highlighter-rouge notranslate">baseurl</code> and <code class="language-plaintext highlighter-rouge notranslate">url</code> as well since hosting on github automatiacally takes care of it. I think. It works so far.</li> </ul> <p><strong>USING A JEKYLL TEMPLATE IN GITHUB</strong></p> <ul> <li>Login to your github account eg. <code class="language-plaintext highlighter-rouge notranslate">silicon-vlsi</code></li> <li>Navigate to the template repo (eg. <a href="https://github.com/rundocs/jekyll-rtd-theme">#jekyll-rtd-theme</a> and click <code class="language-plaintext highlighter-rouge notranslate">Fork</code></li> <li>Rename (from the repo's settings) the copied repo to the following format: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">&lt;username&gt;.github.io</code></li> <li>eg. <code class="language-plaintext highlighter-rouge notranslate">silicon-vlsi.github.io</code></li> </ul> </li> <li>Give it few minutes to publish it and browse to <code class="language-plaintext highlighter-rouge notranslate">http://silicon-vlsi.github.io</code> to see the website!</li> </ul> <p><strong>USING JEKYLL TO MAINTAIN THE SITE</strong></p> <ul> <li>Clone the repo to your prepared Linux workstation: <ul> <li><code class="language-plaintext highlighter-rouge notranslate">git clone https://github.com/silcion-vlsi/silicon-vlsi.github.io</code></li> </ul> </li> <li>Change directory <code class="language-plaintext highlighter-rouge notranslate">cd</code> to <code class="language-plaintext highlighter-rouge notranslate">silicon-vlsi.github.io</code> and edit <code class="language-plaintext highlighter-rouge notranslate">_config.yml</code> change the info.</li> <li>For the first time after clone, to get the dependencies:<code class="language-plaintext highlighter-rouge notranslate">bundle install</code> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">bundle update</code> FIXME Document this</li> </ul> </li> <li>Build the site again after the changes:<code class="language-plaintext highlighter-rouge notranslate">bundle exec jekyll build</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">git commit --all [--allow-empty] -m "comment"</code> FIXME: Document when we need <code class="language-plaintext highlighter-rouge notranslate">--allow-empty</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">git push</code></li> </ul> <p><strong>CONTENT MANAGEMENT</strong></p> <p>The directory structure (USR tag indicates changes made by the user and SYS typically should be left untouched and synced with the original repo):</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="nb">.</span>
├── README.md              : USR: Content <span class="k">for </span>the landing page
├── _config.yml            : USR: Site-wide configuration
├── _includes              : SYS: All includes: common codes, etc
├── _layouts               : SYS: site layout
├── _sass                  : SYS: ??
├── _site                  : SYS: Compiled html site here
├── assets                 : SYS: CSS themes etc.
├── content                : USR: Main site content goes here.
│   ├── README.md
│   ├── Resources
│   ├── people.md
│   ├── projects.md
│   └── training.md
└── wiki                   : USR: The second content page
    ├── README.md
    ├── doc1
    ├── doc2
    └── quickref.md

</code></pre>  </div></div> <p><strong>SYNCING THE LOCAL FORK WITH ORIGINAL UPSTREAM REPO</strong> FIXME Refer a proper documentation for this and put some more detail in this documentation.</p> <ul> <li>Related github docs: <a href="https://docs.github.com/en/free-pro-team@latest/github/collaborating-with-issues-and-pull-requests/configuring-a-remote-for-a-fork">Config a remote for fork</a>, <a href="https://docs.github.com/en/free-pro-team@latest/github/collaborating-with-issues-and-pull-requests/syncing-a-fork">Syncing a fork</a></li> <li><strong>Onetime</strong> config remote upstream repo with the fork: <ul> <li>List the current configured remote repository for your fork.<code class="language-plaintext highlighter-rouge notranslate">git remote -v</code></li> <li>Specify the remote upstream repository that will be synced with the fork:<code class="language-plaintext highlighter-rouge notranslate">git remote add upstream https://github.com/rundocs/jekyll-rtd-theme.git</code></li> <li>Verify: <code class="language-plaintext highlighter-rouge notranslate">git remote -v</code></li> </ul> </li> <li>Syncing the fork withe upstream repo: <ul> <li>Fetch the branches and their respective commits from the upstream repository. Commits to BRANCHNAME will be stored in the local branch upstream/BRANCHNAME: <code class="language-plaintext highlighter-rouge notranslate">git fetch upstream</code></li> <li>Check out your fork's local default branch - in this case, we use <code class="language-plaintext highlighter-rouge notranslate">develop</code> FIXME need more clarity on this one:<code class="language-plaintext highlighter-rouge notranslate">git checkout develop(?)</code></li> <li>Merge the changes from the upstream default branch - in this case, <code class="language-plaintext highlighter-rouge notranslate">upstream/develop</code> - into your local default branch. This brings your fork's default branch into sync with the upstream repository, without losing your local changes:<code class="language-plaintext highlighter-rouge notranslate">git merge upstream/develop</code></li> <li>Push the changes to the fork:<code class="language-plaintext highlighter-rouge notranslate">git push</code></li> </ul> </li> </ul> <h3 id="logos">LOGOS</h3> <ul> <li><a href="http://www.entrepreneur.com/article/232401">What Does the Color of Your Logo Say About Your Business? (Infographic)</a></li> </ul> <h3 id="creating-favicon">Creating favicon</h3> <ul> <li>Generate a <strong>16x16</strong> image (Gimp, Inkscape, etc) eg. favicon.png</li> <li>Convert it to a ppm or pnm format eg: <code class="language-plaintext highlighter-rouge notranslate">$ pngtopnm favicon.png &gt; favicon.pnm </code> <ul> <li><strong>NOTE</strong> If you have more than 256 colors, you'll get an error. You can quantize it to 256 using <code class="language-plaintext highlighter-rouge notranslate">$ pnmquant 256 favicon.pnm &gt; temp.pnm; mv temp.pnm favicon.pnm</code></li> </ul> </li> <li>Convert using the the utility <code class="language-plaintext highlighter-rouge notranslate">ppmtowinicon</code> : <code class="language-plaintext highlighter-rouge notranslate">$ ppmtowinicon -output favicon.ico favicon.pnm</code></li> </ul> <h2 id="media">Media</h2> <h3 id="audio-video">Audio-Video</h3> <p><strong>YouTube DOWNLOAD</strong></p> <ul> <li><code class="language-plaintext highlighter-rouge notranslate">sudo curl -L https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp -o /usr/local/bin/yt-dlp</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">sudo chmod a+rx /usr/local/bin/yt-dlp</code></li> <li><code class="language-plaintext highlighter-rouge notranslate">sudo yt-dlp -U</code> : To update</li> <li><strong>NOTE</strong> The <code class="language-plaintext highlighter-rouge notranslate">yt-dlp</code> and <code class="language-plaintext highlighter-rouge notranslate">youtube-dl</code> packages in Ubuntu 22.04 was broken as of 2023/03/10</li> </ul> <p><strong>EXTRACTING AUDIO FROM MP4</strong></p> <ul> <li>Install <code class="language-plaintext highlighter-rouge notranslate">ffmpeg</code> : <code class="language-plaintext highlighter-rouge notranslate">sudo apt install ffmpeg</code></li> <li>To extract: <code class="language-plaintext highlighter-rouge notranslate">ffmpeg -i &lt;file.mp4&gt; out.mp3</code></li> <li>See script <code class="language-plaintext highlighter-rouge notranslate">~/bin/yt-extract</code></li> </ul> <h2 id="open-source">Open-Source</h2> <p><strong>Resources</strong></p> <ul> <li><a href="https://www.redhat.com/en/topics/open-source/what-is-open-source-software">Redhat: What is open source software?</a></li> <li><a href="https://opensource.com/law/13/1/which-open-source-software-license-should-i-use?extIdCarryOver=true&amp;sc_cid=701f2000001OH6fAAG">opensource.com:Which open source software license should I use?</a></li> </ul> <h3 id="licensing">Licensing</h3> <ul> <li>No copy left: MIT, new BSD</li> <li>Some copy left with patenting &amp; licensing</li> <li>All copy left: GPLs</li> </ul> </div> </div> <div class="navigation-bottom d-flex flex-justify-between py-3" role="navigation" aria-label="footer navigation"> <div class="prev"></div> <div class="next"><a href="/wiki/userguide.html" class="btn" title="USER GUIDES" accesskey="n" rel="next"> Next <i class="fa fa-arrow-circle-right"></i> </a></div> </div><hr> <div class="copyright text-center text-gray" role="contentinfo"> <i class="fa fa-copyright"></i> <span class="time">2023,</span> <a class="text-gray" href="https://github.com/sroutk" rel="noreferrer" target="_blank">sroutk</a> Revision <a class="text-gray" href="https://github.com/sroutk/sroutk.github.io/commit/f9dbeeeeab28c89d4a6ac7d318d63593aecc2b9a" title="f9dbeeeeab28c89d4a6ac7d318d63593aecc2b9a" rel="noreferrer" target="_blank">f9dbeee</a> <br> <div class="generator"> Built with <a href="https://pages.github.com" rel="noreferrer" target="_blank" title="github-pages v209">GitHub Pages</a> using a <a href="https://github.com/rundocs/jekyll-rtd-theme" rel="noreferrer" target="_blank" title="jekyll-rtd-theme v2.0.10">theme</a> provided by <a href="https://rundocs.io" rel="noreferrer" target="_blank">RunDocs</a>. </div> </div> </div> </div> <div class="addons-wrap d-flex flex-column overflow-y-auto"> <div class="status d-flex flex-justify-between p-2"> <div class="title p-1"> <i class="fa fa-book"></i> Mixignal Innovations </div> <div class="branch p-1"> <span class="name"> gh-pages </span> <i class="fa fa-caret-down"></i> </div> </div> <div class="addons d-flex flex-column height-full p-2 d-none"> <dl> <dt>GitHub</dt> <dd> <a href="https://github.com/sroutk/sroutk.github.io" title="Stars: 0"> <i class="fa fa-github"></i> Homepage </a> </dd> <dd> <a href="https://github.com/sroutk/sroutk.github.io/issues" title="Open issues: 0"> <i class="fa fa-question-circle-o"></i> Issues </a> </dd> <dd> <a href="https://github.com/sroutk/sroutk.github.io/zipball/gh-pages" title="Size: 20119 Kb"> <i class="fa fa-download"></i> Download </a> </dd> </dl> <hr> <div class="license f6 pb-2"> This <a href="/" title="Mixignal Innovations">Software</a> is under the terms of <a href="https://github.com/sroutk/sroutk.github.io">MIT License</a>. </div> </div> </div> <script src="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/js/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/js/theme.min.js"></script> </body> </html>